<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<style> 

div
{
	width: 100px;
	height: 100px;
	background-color: red;
	position: relative;
	animation: myfirst 5s alternate;
}

@keyframes myfirst
{
	from
	{
		left: -500.0px;
	}

	to
	{
		left: 200px;
	}
}

</style>
<script type="text/javascript" src="coherent.js"></script>
<script>
function startTimer(duration, display) {
	var timer = duration, minutes, seconds;
	setInterval(function () {
		minutes = parseInt(timer / 60, 10)
		seconds = parseInt(timer % 60, 10);

		minutes = minutes < 10 ? "0" + minutes : minutes;
		seconds = seconds < 10 ? "0" + seconds : seconds;

		display.textContent = minutes + ":" + seconds;

		if (--timer < 0) {
			timer = duration;
		}
	}, 1000);
}

window.onload = function () {
	var fiveMinutes = 60 * 5,
		display = document.querySelector('#time');
	startTimer(fiveMinutes, display);
};
</script>			
	</head>
	<body bgcolor="#ea00ff" background="coui://gfx/ui/screens/main_menu_screen_01.jpg" style="background-image: url(coui://gfx/ui/screens/main_menu_screen_01.jpg);">
	<img src="coui://gfx/ui/images/battlefield.png"/>ABDFKJfd sdfsdjfs fsfns fs dfsf sfd sdlf sf lsfsd lkf dsflsdf sdlfslflsdf  sdflsdkf ssdlfsdlklsd dsf!!
	<div>LOL</div>
		<br />
		<div>Registration closes in <span id="time">05:00</span> minutes!</div>
		<br />
		<input type="text" id="bla" name="fname"/>

		<script>
		   
			//var args = [null, 456, 789];
			//engine.call("asyncCallSQ", 123, "Method", args);


			function wth(_callback)
			{
				engine.call("asyncCallSQ", 123, "dkfdjf", "dfjdf").then(function (_str)
				{
					console.info("callback called!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!");
					_callback(_str);
					//bla.value = _str;
				});
			}

			wth(function (_str)
			{
				bla.value = _str;
			});

			var input = document.querySelector("#bla");
			input.value = navigator.userAgent;

			/*var input = document.querySelector("#bla");

			var someObj = function ()
			{
				
			};

			someObj.prototype.doSomething = function (_args)
			{
				input.value = _args;
			};

			someObj.prototype.getModule = function ()
			{
				return null;
			};

			var someObjInstance = new someObj();
			var Screens = {};

			function registerScreen(_name, _instance)
			{
				Screens[_name] = _instance;
				engine.call("registerScreen", _name);
			}
			
			registerScreen("Something", someObjInstance);
			engine.call("registrationFinished");

			engine.on('callFromSQ', function (_instanceName, _moduleName, _methodName, _args)
			{
				if (_instanceName in Screens)
				{
					var target = Screens[_instanceName];

					if (_moduleName != null && target.getModule(_moduleName) != null)
						target = target.getModule(_moduleName);

					var toCall = eval('target.' + _methodName);

					toCall(_args);
				}
			});

			var ScriptInterface = function ()
			{
			};

			ScriptInterface.prototype.call = function (_scriptHandle, _method, _args)
			{
				engine.call("asyncCallSQ", _scriptHandle, _method, _args);
			};

			var SQ = new ScriptInterface();

			SQ.call(1, "myMethod", "myArguments");*/

			/*engine.on('test', function (new_score)
			{
				engine.call("asyncCallSQ", arg);

				engine.call("getTest").then(function (_str)
				{
					bla.value = _str;
				});
			});*/
		</script>
	</body>
</html>